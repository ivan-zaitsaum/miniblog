<div class="container">
  <div class="page-header">
    <h1 class="title">Mini Blog</h1>
    <hr class="header-line">
  </div>

  <div class="search-bar">
    <input type="text" placeholder="Search..." class="search-input">
    <select class="dropdown">
      <option>All Categories</option>
    </select>
    <select class="dropdown">
      <option>All Tags</option>
    </select>
    <button class="filter-button">Filter</button>
    <button class="all-posts-button">All Posts</button>
  </div>

  <div *ngFor="let post of posts" class="post-card">
    <div class="post-header">
      <a class="post-title" href="#">{{ post.title }}</a>
      <div class="post-actions">
        <a *ngIf="authService.getUsername() === post.authorUsername"
           [routerLink]="['/edit-post', post.id]"
           class="action-link">Edit</a> |
        <a *ngIf="authService.getUsername() === post.authorUsername"
           (click)="deletePost(post.id!)"
           class="action-link">Delete</a>
      </div>
    </div>

    <div class="post-meta">
      Created at: {{ post.createdAt | date: 'short' }} | Author: {{ post.authorUsername }}
    </div>

    <div class="post-content">{{ post.content }}</div>

    <div *ngIf="post.categoryNames?.length" class="categories">
      <strong>Categories:</strong>
      <span *ngFor="let cat of post.categoryNames" class="badge category">{{ cat }}</span>
    </div>

    <div *ngIf="post.tagNames?.length" class="tags">
      <strong>Tags:</strong>
      <span *ngFor="let tag of post.tagNames" class="badge tag">{{ tag }}</span>
    </div>

    <div class="comments-section">
      <strong>Comments:</strong>
      <app-comments [postId]="post.id!"></app-comments>
    </div>
  </div>
</div>
